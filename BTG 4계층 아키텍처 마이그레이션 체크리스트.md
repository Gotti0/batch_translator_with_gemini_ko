BTG 4계층 아키텍처 마이그레이션 체크리스트단계 0: 준비 및 계획[x] 요구사항 분석 및 목표 설정[x] 각 계층의 책임과 역할 명확히 정의[x] 현재 코드베이스 분석 (모듈, 클래스, 함수들의 역할 파악)[x] 기술 스택 검토 (결정: 현재 Python 기본 구조 유지)[x] 버전 관리 시스템 설정[x] 점진적 마이그레이션 계획[x] 테스트 전략 수립단계 1: 데이터 접근/인프라 계층 (Data Access / Infrastructure Layer) 분리[x] 파일 시스템 접근 로직 분리[x] 설정 관리 로직 분리[x] 외부 API 클라이언트 분리[x] Google Gemini API 호출과 직접 관련된 로직 (API 키 설정, 요청 생성, 응답 처리)을 별도 모듈/클래스로 분리 (예: gemini_client.py).[x] listed_models.py의 모델 목록 조회 기능도 이 계층에 포함될 수 있음 (GeminiClient.list_models로 통합).[x] [신기능] GeminiClient.__init__ 수정[x] 로깅 및 오류 처리 인프라[x] 공통 로깅 모듈 또는 래퍼 클래스 정의 (예: logger_config.py).[x] 표준화된 오류/예외 클래스 정의 (필요시)단계 2: 비즈니스 로직 계층 (Business Logic / Domain Layer) 정의 및 구현[x] 핵심 번역 로직 분리[x] 청킹 로직 분리[x] 고유명사 처리 로직 통합[x] 오류 처리 및 재시도 로직[x] 상태 관리 로직단계 3: 애플리케이션 계층 (Application Layer / Service Layer) 정의 및 구현[x] 서비스 인터페이스 정의[x] 워크플로우 조정[x] 병렬 처리 및 스레드 관리 통합[x] 데이터 변환 (DTO - Data Transfer Object)[x] 진행 상황 알림 및 콜백 처리[x] [신기능] AppService 설정 연동 수정단계 4: 프레젠테이션 계층 (Presentation Layer) 리팩토링[x] GUI 리팩토링 (batch_translator_gui.py):[x] AppService 인스턴스 생성 및 관리[x] UI 이벤트 핸들러 수정[x] 콜백 함수 구현 및 연결[x] 스레드 관리 및 UI 응답성 유지[x] 상태 관리 및 UI 업데이트[x] 오류 처리[x] 의존성 제거[x] TqdmToLogText 클래스 활용 또는 대체[x] [신기능] GUI API 키 입력 필드 수정[x] CLI 리팩토링 (batch_translator_cli.py):[x] [신기능] CLI 인증 인수 수정:[x] API 키 또는 Vertex AI 서비스 계정 JSON 내용을 직접 입력받거나, JSON 파일 경로를 통해 입력받을 수 있도록 --auth-credentials 및 --auth-credentials-file 인수 추가.[x] --use-vertex-ai, --gcp-project, --gcp-location 인수를 추가하여 CLI에서 Vertex AI 설정을 명시적으로 지정할 수 있도록 함.[x] main 함수에서 파싱된 인수를 사용하여 AppService의 설정을 업데이트하고, GeminiClient가 올바른 인증 정보로 초기화되도록 로직 구현.[x] 일관된 인터페이스 사용단계 5: 통합 및 테스트[ ] [신기능] 새로운 인증 방식 테스트:[ ] Gemini API 키를 사용한 인증 테스트.[ ] Vertex AI 서비스 계정 JSON 문자열을 직접 입력한 경우의 인증 테스트.[ ] (CLI의 경우) Vertex AI 서비스 계정 JSON 파일 경로를 제공한 경우의 인증 테스트.[ ] 계층 간 인터페이스 테스트[ ] 단위 테스트 작성/보강[ ] 통합 테스트 수행[ ] 사용자 수용 테스트 (UAT)단계 6: 문서화 및 유지보수[ ] [신기능] 사용 설명서 업데이트:[ ] API 키/인증 정보 입력 방법에 대한 사용자 안내 업데이트.[ ] 아키텍처 문서 업데이트[ ] 코드 주석 보강[ ] README 파일 업데이트[ ] 향후 유지보수 계획 수립.일반적인 고려 사항의존성 방향느슨한 결합 (Loose Coupling)높은 응집도 (High Cohesion)테스트 용이성


